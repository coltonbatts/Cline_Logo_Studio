<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Logo Animation</title>
    <style>
        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: white;
            font-family: Arial, sans-serif;
        }
        
        .main-container {
            display: flex;
            align-items: center;
            gap: 500px;
        }
        
        .logo-container {
            width: 300px;
            height: 300px;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: float 3s ease-in-out infinite;
            position: relative;
        }
        
        .shadow {
            position: absolute;
            width: 200px;
            height: 30px;
            background: rgba(0, 0, 0, 0.2);
            border-radius: 50%;
            bottom: -80px;
            filter: blur(15px);
            animation: shadow 3s ease-in-out infinite;
            z-index: -1;
        }
        
        @keyframes shadow {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(0.85); opacity: 0.35; }
        }
        
        /* Happy shadow animation */
        @keyframes happy-shadow {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            50% { transform: scale(0.8); opacity: 0.35; }
        }
        
        /* Entrance animation */
        @keyframes entrance {
            0% { transform: translateX(100px) scale(0.8); opacity: 0; }
            40% { transform: translateX(-10px) scale(1.05); opacity: 1; }
            60% { transform: translateX(5px) scale(0.95); opacity: 1; }
            80% { transform: translateX(-2px) scale(1.02); opacity: 1; }
            100% { transform: translateX(0) scale(1); opacity: 1; }
        }
        
        /* Entrance shadow animation */
        @keyframes entrance-shadow {
            0% { transform: translateX(100px) scale(0.8); opacity: 0; }
            40% { transform: translateX(-10px) scale(1.1); opacity: 0.6; }
            60% { transform: translateX(5px) scale(0.9); opacity: 0.5; }
            80% { transform: translateX(-2px) scale(1.05); opacity: 0.5; }
            100% { transform: translateX(0) scale(1); opacity: 0.5; }
        }
        
        /* Enhanced entrance animation */
        @keyframes enhanced-entrance {
            0% { transform: translateX(150px) translateY(50px) scale(0.5) rotate(10deg); opacity: 0; }
            20% { transform: translateX(80px) translateY(20px) scale(0.7) rotate(5deg); opacity: 0.5; }
            40% { transform: translateX(-20px) translateY(-10px) scale(1.1) rotate(-3deg); opacity: 1; }
            60% { transform: translateX(15px) translateY(5px) scale(0.9) rotate(2deg); opacity: 1; }
            80% { transform: translateX(-5px) translateY(-2px) scale(1.05) rotate(-1deg); opacity: 1; }
            100% { transform: translateX(0) translateY(0) scale(1) rotate(0deg); opacity: 1; }
        }
        
        /* Enhanced entrance shadow animation */
        @keyframes enhanced-entrance-shadow {
            0% { transform: translateX(150px) scale(0.5); opacity: 0; }
            20% { transform: translateX(80px) scale(0.7); opacity: 0.3; }
            40% { transform: translateX(-20px) scale(1.2); opacity: 0.7; }
            60% { transform: translateX(15px) scale(0.9); opacity: 0.5; }
            80% { transform: translateX(-5px) scale(1.1); opacity: 0.5; }
            100% { transform: translateX(0) scale(1); opacity: 0.5; }
        }
        
        /* Excited shadow animation */
        @keyframes excited-shadow {
            0%, 100% { transform: scale(1); opacity: 0.5; }
            25% { transform: translateX(-5px) scale(0.9); opacity: 0.4; }
            50% { transform: scale(0.95); opacity: 0.45; }
            75% { transform: translateX(5px) scale(0.9); opacity: 0.4; }
        }
        
        /* Sleepy shadow animation */
        @keyframes sleepy-shadow {
            0%, 100% { transform: scale(1) rotate(0deg); opacity: 0.5; }
            50% { transform: scale(0.9) rotate(2deg); opacity: 0.4; }
        }
        
        .logo {
            width: 100%;
            height: 100%;
            display: flex;
            justify-content: center;
            align-items: center;
            animation: rotate 8s ease-in-out infinite;
        }
        
        .controls {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .control-section {
            margin-bottom: 20px;
        }
        
        .section-title {
            font-size: 14px;
            color: #666;
            margin-bottom: 8px;
        }
        
        button {
            padding: 10px 15px;
            border: none;
            background-color: #f0f0f0;
            border-radius: 5px;
            cursor: pointer;
            transition: all 0.2s;
            font-size: 14px;
            min-width: 120px;
            text-align: left;
        }
        
        button:hover {
            background-color: #e0e0e0;
        }
        
        button.active {
            background-color: #18181B;
            color: white;
        }
        
        /* Default animations */
        @keyframes float {
            0%, 100% { transform: translateY(0px); }
            50% { transform: translateY(-20px); }
        }
        
        @keyframes rotate {
            0%, 100% { transform: rotateY(0deg); }
            50% { transform: rotateY(10deg); }
        }
        
        /* Happy animations */
        @keyframes happy-float {
            0%, 100% { transform: translateY(0px) scale(1); }
            50% { transform: translateY(-25px) scale(1.03); }
        }
        
        @keyframes happy-rotate {
            0%, 100% { transform: rotateY(0deg) rotateZ(-2deg); }
            50% { transform: rotateY(15deg) rotateZ(2deg); }
        }
        
        /* Excited animations */
        @keyframes excited-float {
            0%, 100% { transform: translateY(0px); }
            25% { transform: translateY(-15px) translateX(-5px); }
            50% { transform: translateY(-5px); }
            75% { transform: translateY(-15px) translateX(5px); }
        }
        
        @keyframes excited-rotate {
            0%, 100% { transform: rotateY(0deg) rotateZ(0deg); }
            25% { transform: rotateY(-10deg) rotateZ(-2deg); }
            50% { transform: rotateY(0deg) rotateZ(0deg); }
            75% { transform: rotateY(10deg) rotateZ(2deg); }
        }
        
        /* Sleepy animations */
        @keyframes sleepy-float {
            0%, 100% { transform: translateY(0px) rotate(0deg); }
            50% { transform: translateY(-8px) rotate(2deg); }
        }
        
        @keyframes sleepy-rotate {
            0%, 100% { transform: rotateY(0deg) rotateZ(0deg); }
            50% { transform: rotateY(5deg) rotateZ(2deg); }
        }
        
        /* Eye animations */
        @keyframes default-eyes {
            0%, 100% { transform: scaleY(1); }
            50% { transform: scaleY(0.95); }
            75% { transform: scaleY(1.05); }
        }
        
        /* Happy eyes */
        @keyframes happy-eyes {
            0%, 100% { transform: scaleY(0.5) translateY(5px); }
            50% { transform: scaleY(0.4) translateY(6px); }
        }
        
        /* Excited eyes */
        @keyframes excited-eyes {
            0%, 100% { transform: scaleY(1.2) translateY(-3px); }
            25% { transform: scaleY(1.3) translateY(-4px) scaleX(0.9); }
            50% { transform: scaleY(1.2) translateY(-3px); }
            75% { transform: scaleY(1.3) translateY(-4px) scaleX(0.9); }
        }
        
        /* Sleepy eyes */
        @keyframes sleepy-eyes {
            0%, 100% { transform: scaleY(0.3) translateY(8px); }
            50% { transform: scaleY(0.2) translateY(9px); }
            60% { transform: scaleY(0.15) translateY(9px); }
            70% { transform: scaleY(0.2) translateY(9px); }
        }
        
        /* Blink animation */
        @keyframes blink {
            0%, 95%, 100% { transform: scaleY(1); }
            97% { transform: scaleY(0.1); }
        }
        
        /* Slow blink animation */
        @keyframes slow-blink {
            0%, 90%, 100% { transform: scaleY(1); }
            95% { transform: scaleY(0.1); }
        }
        
        /* Double blink animation */
        @keyframes double-blink {
            0%, 40%, 55%, 95%, 100% { transform: scaleY(1); }
            45%, 90% { transform: scaleY(0.1); }
        }
        
        /* Rainbow animation */
        @keyframes rainbow {
            0% { fill: #ff0000; }
            16.6% { fill: #ff9900; }
            33.3% { fill: #ffff00; }
            50% { fill: #33cc33; }
            66.6% { fill: #3399ff; }
            83.3% { fill: #9933ff; }
            100% { fill: #ff0000; }
        }
        
        /* Metal animation */
        @keyframes metal-shine {
            0% { 
                fill: url(#metalGradient); 
                filter: brightness(0.8);
            }
            25% { 
                fill: url(#metalGradient); 
                filter: brightness(1.2);
            }
            50% { 
                fill: url(#metalGradient); 
                filter: brightness(0.9);
            }
            75% { 
                fill: url(#metalGradient); 
                filter: brightness(1.1);
            }
            100% { 
                fill: url(#metalGradient); 
                filter: brightness(0.8);
            }
        }
        
        /* Line pattern */
        .line-pattern {
            stroke-dasharray: 5, 5;
            stroke: #18181B;
            stroke-width: 1.5;
            fill: none;
        }
        
        /* Appearance controls */
        .slider-container {
            display: flex;
            flex-direction: column;
            gap: 5px;
            margin-bottom: 10px;
        }
        
        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            background: linear-gradient(to right, 
                hsl(0, 100%, 50%), 
                hsl(60, 100%, 50%), 
                hsl(120, 100%, 50%), 
                hsl(180, 100%, 50%), 
                hsl(240, 100%, 50%), 
                hsl(300, 100%, 50%), 
                hsl(360, 100%, 50%));
            outline: none;
        }
        
        .saturation-slider {
            -webkit-appearance: none;
            width: 100%;
            height: 6px;
            border-radius: 3px;
            outline: none;
        }
        
        .slider::-webkit-slider-thumb, .saturation-slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: white;
            border: 2px solid #ccc;
            cursor: pointer;
        }
        
        .slider::-moz-range-thumb, .saturation-slider::-moz-range-thumb {
            width: 15px;
            height: 15px;
            border-radius: 50%;
            background: white;
            border: 2px solid #ccc;
            cursor: pointer;
        }
        
        .toggle-container {
            display: flex;
            gap: 10px;
        }
        
        /* Head gesture animations */
        @keyframes head-gesture-left {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(-5deg) translateX(-10px); }
            50% { transform: rotate(-15deg) translateX(-20px); }
            75% { transform: rotate(-5deg) translateX(-10px); }
            100% { transform: rotate(0deg) translateX(0); }
        }
        
        @keyframes head-gesture-right {
            0% { transform: rotate(0deg); }
            25% { transform: rotate(5deg) translateX(10px); }
            50% { transform: rotate(15deg) translateX(20px); }
            75% { transform: rotate(5deg) translateX(10px); }
            100% { transform: rotate(0deg) translateX(0); }
        }
        
        /* Shadow animations for head gestures */
        @keyframes shadow-gesture-left {
            0% { transform: translateX(0) scale(1); }
            25% { transform: translateX(-10px) scale(0.95); }
            50% { transform: translateX(-20px) scale(0.9); }
            75% { transform: translateX(-10px) scale(0.95); }
            100% { transform: translateX(0) scale(1); }
        }
        
        @keyframes shadow-gesture-right {
            0% { transform: translateX(0) scale(1); }
            25% { transform: translateX(10px) scale(0.95); }
            50% { transform: translateX(20px) scale(0.9); }
            75% { transform: translateX(10px) scale(0.95); }
            100% { transform: translateX(0) scale(1); }
        }
        
        /* The People's Eyebrow animation */
        @keyframes eyebrow-raise {
            0%, 100% { transform: scaleY(1) translateY(0); }
            10% { transform: scaleY(1.05) translateY(-1px); }
            20%, 80% { transform: scaleY(1.3) translateY(-4px); }
            90% { transform: scaleY(1.05) translateY(-1px); }
        }
        
        @keyframes eyebrow-squint {
            0%, 100% { transform: scaleY(1) translateY(0); }
            10% { transform: scaleY(0.95) translateY(1px); }
            20%, 80% { transform: scaleY(0.7) translateY(3px); }
            90% { transform: scaleY(0.95) translateY(1px); }
        }
        
        @keyframes head-tilt-eyebrow {
            0%, 100% { transform: rotate(0deg); }
            10% { transform: rotate(1deg); }
            20%, 80% { transform: rotate(3deg); }
            90% { transform: rotate(1deg); }
        }
    </style>
</head>
<body>
    <div class="main-container">
        <div class="logo-container" id="logoContainer">
            <div class="shadow" id="shadow"></div>
            <div class="logo" id="logo">
                <svg width="230" height="242" viewBox="0 0 115 121" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <!-- Definitions for gradients -->
                    <defs>
                        <linearGradient id="metalGradient" x1="0%" y1="0%" x2="100%" y2="100%">
                            <stop offset="0%" stop-color="#565656" />
                            <stop offset="25%" stop-color="#9E9E9E" />
                            <stop offset="50%" stop-color="#DEDEDE" />
                            <stop offset="75%" stop-color="#9E9E9E" />
                            <stop offset="100%" stop-color="#565656" />
                        </linearGradient>
                    </defs>
                    
                    <!-- Main body -->
                    <path id="body" d="M114.317 67.8625L107.099 53.3693V45.0225C107.099 31.1869 95.9942 19.9819 82.2992 19.9819H69.9623C70.8552 18.1481 71.3456 16.0867 71.3456 13.9114C71.3456 6.22221 65.1583 0 57.5123 0C49.8662 0 43.6789 6.22221 43.6789 13.9114C43.6789 16.0867 44.1693 18.1481 45.0622 19.9819H32.7254C19.0303 19.9819 7.9259 31.1869 7.9259 45.0225V53.3693L0.556479 67.8246C-0.185493 69.279 -0.185493 71.0116 0.556479 72.4659L7.9259 86.7568V95.1036C7.9259 108.939 19.0303 120.144 32.7254 120.144H82.2992C95.9942 120.144 107.099 108.939 107.099 95.1036V86.7568L114.305 72.4154C115.021 70.9863 115.021 69.3042 114.317 67.8625Z" fill="#18181B"/>
                    
                    <!-- Left eye group with animation -->
                    <g id="leftEye">
                        <path d="M49.9668 79.6746C49.9668 85.96 44.8987 91.0567 38.6486 91.0567C32.3984 91.0567 27.3303 85.96 27.3303 79.6746V59.4398C27.3303 53.1543 32.3984 48.0577 38.6486 48.0577C44.8987 48.0577 49.9668 53.1543 49.9668 59.4398V79.6746Z" fill="white"/>
                    </g>
                    
                    <!-- Right eye group with animation -->
                    <g id="rightEye">
                        <path d="M86.4366 79.6746C86.4366 85.96 81.3685 91.0567 75.1184 91.0567C68.8682 91.0567 63.8002 85.96 63.8002 79.6746V59.4398C63.8002 53.1543 68.8682 48.0577 75.1184 48.0577C81.3685 48.0577 86.4366 53.1543 86.4366 59.4398V79.6746Z" fill="white"/>
                    </g>
                </svg>
            </div>
        </div>
        
        <div class="controls">
            <div class="control-section">
                <div class="section-title">Expressions</div>
                <button id="defaultBtn" class="active">Default</button>
                <button id="happyBtn">Happy</button>
                <button id="excitedBtn">Excited</button>
                <button id="sleepyBtn">Sleepy</button>
            </div>
            
            <div class="control-section">
                <div class="section-title">Appearance</div>
                <div class="slider-container">
                    <label for="hueSlider">Color</label>
                    <input type="range" min="0" max="360" value="0" class="slider" id="hueSlider">
                </div>
                <div class="slider-container">
                    <label for="saturationSlider">Saturation</label>
                    <input type="range" min="0" max="100" value="100" class="saturation-slider" id="saturationSlider">
                </div>
                <div class="toggle-container">
                    <button id="blackBtn" class="active">Black</button>
                    <button id="whiteBtn">White</button>
                </div>
            </div>
            
            <div class="control-section">
                <div class="section-title">Actions</div>
                <button id="entranceBtn">Entrance!</button>
                <button id="gestureLeftBtn">Look Left</button>
                <button id="gestureRightBtn">Look Right</button>
                <button id="eyebrowBtn">The Eyebrow</button>
            </div>
        </div>
    </div>

    <script>
        // Get elements
        const logoContainer = document.getElementById('logoContainer');
        const logo = document.getElementById('logo');
        const body = document.getElementById('body');
        const leftEye = document.getElementById('leftEye');
        const rightEye = document.getElementById('rightEye');
        const shadow = document.getElementById('shadow');
        
        // Expression buttons
        const defaultBtn = document.getElementById('defaultBtn');
        const happyBtn = document.getElementById('happyBtn');
        const excitedBtn = document.getElementById('excitedBtn');
        const sleepyBtn = document.getElementById('sleepyBtn');
        
        // Appearance buttons
        const blackBtn = document.getElementById('blackBtn');
        const whiteBtn = document.getElementById('whiteBtn');
        const hueSlider = document.getElementById('hueSlider');
        const saturationSlider = document.getElementById('saturationSlider');
        
        // Set transform origin for eyes
        leftEye.style.transformOrigin = "center";
        rightEye.style.transformOrigin = "center";
        
        // Function to reset expression buttons
        function resetExpressionButtons() {
            defaultBtn.classList.remove('active');
            happyBtn.classList.remove('active');
            excitedBtn.classList.remove('active');
            sleepyBtn.classList.remove('active');
        }
        
        // Function to reset appearance buttons
        function resetAppearanceButtons() {
            blackBtn.classList.remove('active');
            whiteBtn.classList.remove('active');
        }
        
        // Add occasional blinking
        function startBlinking() {
            setInterval(() => {
                // Only blink if in default mode or happy mode
                if (defaultBtn.classList.contains('active') || happyBtn.classList.contains('active')) {
                    // Determine blink type
                    const blinkType = Math.random();
                    let blinkAnimation;
                    let blinkDuration;
                    
                    if (blinkType > 0.85) {
                        // Double blink (15% chance)
                        blinkAnimation = 'double-blink';
                        blinkDuration = 800 + Math.random() * 200; // 800-1000ms
                    } else if (blinkType > 0.6) {
                        // Slow blink (25% chance)
                        blinkAnimation = 'slow-blink';
                        blinkDuration = 500 + Math.random() * 200; // 500-700ms
                    } else {
                        // Regular blink (60% chance)
                        blinkAnimation = 'blink';
                        blinkDuration = 300 + Math.random() * 150; // 300-450ms
                    }
                    
                    // Store current animations
                    const leftEyeAnim = leftEye.style.animation;
                    const rightEyeAnim = rightEye.style.animation;
                    
                    // Apply blink animation
                    leftEye.style.animation = `${blinkAnimation} ${blinkDuration}ms ease-in-out`;
                    rightEye.style.animation = `${blinkAnimation} ${blinkDuration}ms ease-in-out`;
                    
                    // Restore original animation after blink
                    setTimeout(() => {
                        if (defaultBtn.classList.contains('active') || happyBtn.classList.contains('active')) {
                            leftEye.style.animation = leftEyeAnim;
                            rightEye.style.animation = rightEyeAnim;
                        }
                    }, blinkDuration);
                }
            }, 3000 + Math.random() * 4000); // Random interval between 3-7 seconds
        }
        
        // Start blinking after page load
        startBlinking();
        
        // Play entrance animation on load
        window.addEventListener('load', () => {
            // Hide default animations initially
            logoContainer.style.animation = 'none';
            shadow.style.animation = 'none';
            
            // Apply entrance animations
            logoContainer.style.animation = 'enhanced-entrance 1.5s ease-out forwards';
            shadow.style.animation = 'enhanced-entrance-shadow 1.5s ease-out forwards';
            
            // After entrance animation completes, switch to default floating animation
            setTimeout(() => {
                logoContainer.style.animation = 'float 3s ease-in-out infinite';
                shadow.style.animation = 'shadow 3s ease-in-out infinite';
                
                // Apply default eye animation
                leftEye.style.animation = 'default-eyes 3s ease-in-out infinite';
                rightEye.style.animation = 'default-eyes 3s ease-in-out infinite';
            }, 1500);
        });
        
        // Get entrance button
        const entranceBtn = document.getElementById('entranceBtn');
        const gestureLeftBtn = document.getElementById('gestureLeftBtn');
        const gestureRightBtn = document.getElementById('gestureRightBtn');
        const eyebrowBtn = document.getElementById('eyebrowBtn');
        
        // Function to play entrance animation
        function playEntranceAnimation() {
            // Store current button state
            const currentExpressionBtn = document.querySelector('.control-section:first-of-type button.active');
            
            // Reset to default state temporarily
            resetExpressionButtons();
            defaultBtn.classList.add('active');
            
            // Stop current animations
            logoContainer.style.animation = 'none';
            logo.style.animation = 'none';
            shadow.style.animation = 'none';
            leftEye.style.animation = 'none';
            rightEye.style.animation = 'none';
            
            // Force reflow to ensure animation restarts
            void logoContainer.offsetWidth;
            
            // Apply enhanced entrance animations
            logoContainer.style.animation = 'enhanced-entrance 1.5s ease-out forwards';
            shadow.style.animation = 'enhanced-entrance-shadow 1.5s ease-out forwards';
            
            // After entrance animation completes, restore previous state
            setTimeout(() => {
                // Trigger click on the button that was active before
                currentExpressionBtn.click();
            }, 1500);
        }
        
        // Add entrance button event listener
        entranceBtn.addEventListener('click', playEntranceAnimation);
        
        // Function to play head gesture animations
        function playHeadGesture(direction) {
            // Store current animations
            const currentLogoContainerAnim = logoContainer.style.animation;
            const currentLogoAnim = logo.style.animation;
            const currentShadowAnim = shadow.style.animation;
            
            // Apply gesture animation
            if (direction === 'left') {
                logo.style.animation = 'head-gesture-left 1.2s ease-in-out forwards';
                shadow.style.animation = 'shadow-gesture-left 1.2s ease-in-out forwards';
            } else {
                logo.style.animation = 'head-gesture-right 1.2s ease-in-out forwards';
                shadow.style.animation = 'shadow-gesture-right 1.2s ease-in-out forwards';
            }
            
            // Pause container animation during gesture
            const currentContainerAnim = logoContainer.style.animation;
            logoContainer.style.animation = 'none';
            
            // After gesture completes, restore previous animations
            setTimeout(() => {
                logoContainer.style.animation = currentContainerAnim;
                logo.style.animation = currentLogoAnim;
                shadow.style.animation = currentShadowAnim;
            }, 1200);
        }
        
        // Add gesture button event listeners
        gestureLeftBtn.addEventListener('click', () => playHeadGesture('left'));
        gestureRightBtn.addEventListener('click', () => playHeadGesture('right'));
        
        // Function to play the eyebrow raise animation
        function playEyebrowAnimation() {
            // Store current animations
            const currentLogoContainerAnim = logoContainer.style.animation;
            const currentLogoAnim = logo.style.animation;
            const currentLeftEyeAnim = leftEye.style.animation;
            const currentRightEyeAnim = rightEye.style.animation;
            
            // Apply eyebrow animations
            logo.style.animation = 'head-tilt-eyebrow 2s ease-in-out forwards';
            rightEye.style.animation = 'eyebrow-raise 2s ease-in-out forwards';
            leftEye.style.animation = 'eyebrow-squint 2s ease-in-out forwards';
            
            // Pause container animation during gesture
            const currentContainerAnim = logoContainer.style.animation;
            logoContainer.style.animation = 'none';
            
            // After animation completes, restore previous animations
            setTimeout(() => {
                logoContainer.style.animation = currentContainerAnim;
                logo.style.animation = currentLogoAnim;
                leftEye.style.animation = currentLeftEyeAnim;
                rightEye.style.animation = currentRightEyeAnim;
            }, 2000);
        }
        
        // Add eyebrow button event listener
        eyebrowBtn.addEventListener('click', playEyebrowAnimation);
        
        // Hue slider event listener
        hueSlider.addEventListener('input', updateColor);
        saturationSlider.addEventListener('input', updateColor);
        
        // Function to update color based on hue
        function updateColor() {
            const hue = hueSlider.value;
            const saturation = saturationSlider.value;
            const isWhite = whiteBtn.classList.contains('active');
            
            if (isWhite) {
                // For white mode, we use a light color with the selected hue
                body.setAttribute('fill', `hsl(${hue}, ${saturation}%, 90%)`);
            } else {
                // For black mode, we use a dark color with the selected hue
                body.setAttribute('fill', `hsl(${hue}, ${saturation}%, 20%)`);
            }
            
            // Remove any animations or patterns
            body.style.animation = '';
            body.classList.remove('line-pattern');
            
            // Update saturation slider background
            updateSaturationSliderBackground();
        }
        
        // Function to update saturation slider background based on current hue
        function updateSaturationSliderBackground() {
            const hue = hueSlider.value;
            const isWhite = whiteBtn.classList.contains('active');
            const lightness = isWhite ? '90%' : '20%';
            
            saturationSlider.style.background = `linear-gradient(to right, 
                hsl(${hue}, 0%, ${lightness}), 
                hsl(${hue}, 100%, ${lightness}))`;
        }
        
        // Update saturation slider background on page load
        updateSaturationSliderBackground();
        
        // Black appearance
        blackBtn.addEventListener('click', () => {
            resetAppearanceButtons();
            blackBtn.classList.add('active');
            updateColor();
            updateSaturationSliderBackground();
        });
        
        // White appearance
        whiteBtn.addEventListener('click', () => {
            resetAppearanceButtons();
            whiteBtn.classList.add('active');
            updateColor();
            updateSaturationSliderBackground();
        });
        
        // Default animation
        defaultBtn.addEventListener('click', () => {
            resetExpressionButtons();
            defaultBtn.classList.add('active');
            
            logoContainer.style.animation = 'float 3s ease-in-out infinite';
            logo.style.animation = 'rotate 8s ease-in-out infinite';
            shadow.style.animation = 'shadow 3s ease-in-out infinite';
            
            leftEye.style.animation = 'default-eyes 3s ease-in-out infinite';
            rightEye.style.animation = 'default-eyes 3s ease-in-out infinite';
        });
        
        // Happy animation
        happyBtn.addEventListener('click', () => {
            resetExpressionButtons();
            happyBtn.classList.add('active');
            
            logoContainer.style.animation = 'happy-float 2.5s ease-in-out infinite';
            logo.style.animation = 'happy-rotate 6s ease-in-out infinite';
            shadow.style.animation = 'happy-shadow 2.5s ease-in-out infinite';
            
            leftEye.style.animation = 'happy-eyes 3s ease-in-out infinite';
            rightEye.style.animation = 'happy-eyes 3s ease-in-out infinite';
        });
        
        // Excited animation
        excitedBtn.addEventListener('click', () => {
            resetExpressionButtons();
            excitedBtn.classList.add('active');
            
            logoContainer.style.animation = 'excited-float 1.5s ease-in-out infinite';
            logo.style.animation = 'excited-rotate 1.5s ease-in-out infinite';
            shadow.style.animation = 'excited-shadow 1.5s ease-in-out infinite';
            
            leftEye.style.animation = 'excited-eyes 1s ease-in-out infinite';
            rightEye.style.animation = 'excited-eyes 1s ease-in-out infinite';
        });
        
        // Sleepy animation
        sleepyBtn.addEventListener('click', () => {
            resetExpressionButtons();
            sleepyBtn.classList.add('active');
            
            logoContainer.style.animation = 'sleepy-float 4s ease-in-out infinite';
            logo.style.animation = 'sleepy-rotate 6s ease-in-out infinite';
            shadow.style.animation = 'sleepy-shadow 4s ease-in-out infinite';
            
            leftEye.style.animation = 'sleepy-eyes 4s ease-in-out infinite';
            rightEye.style.animation = 'sleepy-eyes 4s ease-in-out infinite';
        });
    </script>
</body>
</html> 